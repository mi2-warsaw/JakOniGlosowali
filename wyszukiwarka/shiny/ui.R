posel <- c("Adam Abramowicz", "Adam Hofman", "Adam Kępiński", "Adam Kwiatkowski", 
  "Adam Lipiński", "Adam Rogacki", "Adam Rybakowicz", "Adam Szejnfeld", 
  "Adam Żyliński", "Agnieszka Hanajczyk", "Agnieszka Kołacz-Leszczyńska", 
  "Agnieszka Kozłowska-Rajewicz", "Agnieszka Pomaska", "Aldona Młyńczak", 
  "Aleksander Sosna", "Aleksandra Trybuś", "Aleksandra Trybuś-Cieślar", 
  "Alicja Dąbrowska", "Alicja Olechowska", "Andrzej Adamczyk", 
  "Andrzej Bętkowski", "Andrzej Biernat", "Andrzej Buła", "Andrzej Czerwiński", 
  "Andrzej Dąbrowski", "Andrzej Dera", "Andrzej Duda", "Andrzej Gałażewski", 
  "Andrzej Gut-Mostowy", "Andrzej Halicki", "Andrzej Jaworski", 
  "Andrzej Kania", "Andrzej Lewandowski", "Andrzej Orzechowski", 
  "Andrzej Piątak", "Andrzej Romanek", "Andrzej Rozenek", "Andrzej Smirnow", 
  "Andrzej Szlachta", "Andrzej Sztorc", "Andrzeja Szlachta", "Anna Bańkowska", 
  "Anna Elżbieta Sobecka", "Anna Fotyga", "Anna Grodzka", "Anna Nemś", 
  "Anna Paluch", "Anna Zalewska", "Antoni Błądek", "Antoni Macierewicz", 
  "Antoni Mężydło", "Arkadiusz Czartoryski", "Arkadiusz Litwiński", 
  "Arkadiusz Mularczyk", "Arkady Fiedler", "Armand Kamil Ryfiński", 
  "Artur Bramora", "Artur Dębski", "Artur Dunin", "Artur Gierada", 
  "Artur Górczyński", "Artur Górski", "Artur Ostrowski", "Barbara Bartuś", 
  "Barbara Bubula", "Barbara Czaplicka", "Barbara Kudrycka", "Bartłomiej Bodio", 
  "Bartosz Kownacki", "Beata Bublewicz", "Beata Kempa", "Beata Małecka-Libera", 
  "Beata Mazurek", "Beata Rusinowska", "Beata Szydło", "Bogdan Rzońca", 
  "Bogusław Wontor", "Bolesław Grzegorz Piecha", "Borys Budka", 
  "Bożena Henczyca", "Bożena Kamińska", "Bożena Sławiak", 
  "Bożena Szydłowska", "Bożenna Bukiewicz", "Brygida Kolenda-Łabuś", 
  "Cezary Grabarczyk", "Cezary Kucharski", "Cezary Olejniczak", 
  "Cezary Tomczyk", "Czesław Czechyra", "Czesław Gluza", "Czesław Hoc", 
  "Czesław Sobierajski", "Damian Raczkowski", "Danuta Pietraszewska", 
  "Dariusz Bąk", "Dariusz Cezar Dziadzio", "Dariusz Joński", 
  "Dariusz Piontkowski", "Dariusz Rosati", "Dariusz Seliga", "Dawid Jackiewicz", 
  "Domicela Kopaczewska", "Donald Tusk", "Dorota Arciszewska-Mielewczyk", 
  "Dorota Niedziela", "Dorota Rutkowska", "Edmund Borawski", "Edward Czesak", 
  "Edward Siarka", "Elżbieta Achinger", "Elżbieta Apolonia Pierzchała", 
  "Elżbieta Gapińska", "Elżbieta Gelert", "Elżbieta Królikowska-Kińska", 
  "Elżbieta Kruk", "Elżbieta Nawrocka", "Elżbieta Radziszewska", 
  "Elżbieta Rafalska", "Elżbieta Witek", "Eugeniusz Czykwin", 
  "Eugeniusz Kłopotek", "Eugeniusz Tomasz Grzeszczak", "Ewa Czeszejko-Sochacka", 
  "Ewa Drozd", "Ewa Kołodziej", "Ewa Kopacz", "Ewa Malik", "Ewa Wolak", 
  "Ewa Żmuda-Trzebiatowska", "Franciszek Jerzy Stefaniuk", "Gabriela Masłowska", 
  "Genowefa Tokarska", "Grażyna Ciemniak", "Grzegorz Adam Woźniak", 
  "Grzegorz Janik", "Grzegorz Karpiński", "Grzegorz Matusiak", 
  "Grzegorz Napieralski", "Grzegorz Raniewicz", "Grzegorz Schetyna", 
  "Grzegorz Schreiber", "Grzegorz Sztolcman", "Grzegorz Tobiszowski", 
  "Halina Olendzka", "Halina Rozpondek", "Halina Szymiec-Raczyńska", 
  "Henryk Kmiecik", "Henryk Kowalczyk", "Henryk Siedlaczek", "Henryk Smolarz", 
  "Irena Tomaszak-Zesiuk", "Ireneusz Raś", "Iwona Ewa Arent", 
  "Iwona Guzowska", "Iwona Kozłowska", "Iwona Śledzińska-Katarasińska", 
  "Izabela Katarzyna Mrzygłocka", "Izabela Kloc", "Izabela Leszczyna", 
  "Jacek Bogucki", "Jacek Brzezinka", "Jacek Czerniak", "Jacek Falfus", 
  "Jacek Kozaczyński", "Jacek Kwiatkowski", "Jacek Najder", "Jacek Osuch", 
  "Jacek Sasin", "Jacek Świat", "Jacek Tomczak", "Jacek Żalek", 
  "Jadwiga Wiśniewska", "Jadwiga Zakrzewska", "Jagna Marczułajtis-Walczak", 
  "Jakub Rutnicki", "Jakub Szulc", "Jan Bury", "Jan Cedzyński", 
  "Jan Dziedziczak", "Jan Kaźmierczak", "Jan Krzysztof Ardanowski", 
  "Jan Kulas", "Jan Łopata", "Jan Rzymełka", "Jan Szyszko", "Jan Tomaszewski", 
  "Jan Vincent-Rostowski", "Jan Warzecha", "Jan Ziobro", "Jana Ziobro", 
  "Janina Okrągły", "Janusz Cichoń", "Janusz Dzięcioł", "Janusz Palikot", 
  "Janusz Piechociński", "Janusz Śniadek", "Jarosław Charłampowicz", 
  "Jarosław Górczyński", "Jarosław Gowin", "Jarosław Gromadzki", 
  "Jarosław Kaczyński", "Jarosław Katulski", "Jarosław Pięta", 
  "Jarosław Rusiecki", "Jarosław Sellin", "Jarosław Stawiarski", 
  "Jarosław Tomasz Jagiełło", "Jarosław Żaczek", "Jarosław Zieliński", 
  "Jerzy Borkowski", "Jerzy Borowczak", "Jerzy Budnik", "Jerzy Fedorowicz", 
  "Jerzy Kozdroń", "Jerzy Materna", "Jerzy Polaczek", "Jerzy Rębek", 
  "Jerzy Sądel", "Jerzy Szmit", "Jerzy Wenderlich", "Jerzy Ziętek", 
  "Jerzy Żyżyński", "Joachim Brudziński", "Joanna Bobowska", 
  "Joanna Fabisiak", "Joanna Kluzik-Rostkowska", "Joanna Mucha", 
  "John Abraham Godson", "Jolanta Szczypińska", "Józef Lassota", 
  "Józef Racki", "Józef Rojek", "Józef Zych", "Józefa Hrynkiewicz", 
  "Julia Pitera", "Katarzyna Hall", "Katarzyna Matusik-Lipiec", 
  "Katarzyna Stachowicz", "Kazimierz Gołojuch", "Kazimierz Michał Ujazdowski", 
  "Kazimierz Moskal", "Kazimierz Smoliński", "Kazimierz Ziobro", 
  "Killion Munyama", "Konstanty Miodowicz", "Konstanty Oświęcimski", 
  "Kosma Złotowski", "Krystyna Kłosin", "Krystyna Łybacka", 
  "Krystyna Ozga", "Krystyna Pawłowicz", "Krystyna Poślednia", 
  "Krystyna Sibińska", "Krystyna Skowrońska", "Krystyna Szumilas", 
  "Krzysztof Borkowski", "Krzysztof Brejza", "Krzysztof Gadowski", 
  "Krzysztof Jurgiel", "Krzysztof Kłosowski", "Krzysztof Kwiatkowski", 
  "Krzysztof Lipiec", "Krzysztof Maciejewski", "Krzysztof Michałkiewicz", 
  "Krzysztof Popiołek", "Krzysztof Sońta", "Krzysztof Szczerski", 
  "Krzysztof Tchórzewski", "Lech Kołakowski", "Lech Sprawka", 
  "Leonard Krasulski", "Leszek Aleksandrzak", "Leszek Blanik", 
  "Leszek Dobrzyński", "Leszek Jastrzębski", "Leszek Korzeniowski", 
  "Leszek Miller", "Lidia Gądek", "Lidia Staroń", "Ligia Krajewska", 
  "Lucjan Marek Pietrzczyk", "Ludwik Dorn", "Łukasz Borowiak", 
  "Łukasz Gibała", "Łukasz Krupa", "Łukasz Tusk", "Łukasz Zbonikowski", 
  "Maciej Banaszak", "Maciej Łopiński", "Maciej Małecki", "Maciej Mroczek", 
  "Maciej Orzechowski", "Maciej Wydrzyński", "Maciej Zieliński", 
  "Magdalena Gąsior-Marek", "Magdalena Kochan", "Maks Kraczkowski", 
  "Małgorzata Adamczak", "Małgorzata Gosiewska", "Małgorzata Kidawa-Błońska", 
  "Małgorzata Marcinkiewicz", "Małgorzata Niemczyk", "Małgorzata Pępek", 
  "Małgorzata Sadurska", "Małgorzata Sekuła-Szmajdzińska", 
  "Małgorzata Woźniak", "Marcin Duszek", "Marcin Kierwiński", 
  "Marcin Mastalerek", "Marcin Święcicki", "Marcin Witko", "Marek Ast", 
  "Marek Balt", "Marek Biernacki", "Marek Domaracki", "Marek Gos", 
  "Marek Hok", "Marek Krząkała", "Marek Kuchciński", "Marek Kwitek", 
  "Marek Łapiński", "Marek Łatas", "Marek Matuszewski", "Marek Niedbała", 
  "Marek Opioła", "Marek Plura", "Marek Polak", "Marek Poręba", 
  "Marek Poznański", "Marek Rząsa", "Marek Sawicki", "Marek Stolarski", 
  "Marek Suski", "Marek Wójcik", "Marek Wojtkowski", "Maria Małgorzata Janyska", 
  "Maria Nowak", "Maria Zuba", "Marian Cycoń", "Mariusz Antoni Kamiński", 
  "Mariusz Błaszczak", "Mariusz Grad", "Mariusz Kamiński", "Mariusz Orion Jędrysek", 
  "Mariusz Witczak", "Marzena Dorota Wróbel", "Marzena Machałek", 
  "Marzena Okła-Drewnowicz", "Michał Jach", "Michał Jaros", 
  "Michał Kabaciński", "Michał Stuligrosz", "Michał Szczerba", 
  "Michał Tomasz Pacholski", "Michał Wojtkiewicz", "Mieczysław Golba", 
  "Mieczysław Kasprzak", "Mieczysław Marcin Łuczak", 
  "Miron Sycz", "Mirosław Koźlakiewicz", "Mirosław Maliszewski", 
  "Mirosław Pawlak", "Mirosław Pluta", "Mirosława Nykiel", "Monika Wielichowska", 
  "Norbert Wojnarowski", "Patryk Jaki", "Paweł Arndt", "Paweł Olszewski", 
  "Paweł Papke", "Paweł Sajak", "Paweł Suski", "Paweł Szałamacha", 
  "Piotr Babinetz", "Piotr Chmielowski", "Piotr Cieśliński", 
  "Piotr Król", "Piotr Krzysztof Ćwik", "Piotr Łukasz Babiarz", 
  "Piotr Naimski", "Piotr Paweł Bauć", "Piotr Polak", "Piotr Pyzik", 
  "Piotr Szeliga", "Piotr Tomański", "Piotr van der Coghen", "Piotr Van der Coghen", 
  "Piotr Walkowski", "Piotr Zgorzelski", "Poseó Józef Rojek", 
  "Przemysław Czarnecki", "Przemysław Krysztofiak", "Przemysław Wipler", 
  "Radosław Sikorski", "Radosław Witkowski", "Rafał Grupiński", 
  "Rajmund Miller", "Renata Butryn", "Renata Janik", "Renata Zaręba", 
  "Renata Zaremba", "Robert Biedroń", "Robert Jagła", "Robert Kołakowski", 
  "Robert Kropiwnicki", "Robert Maciaszek", "Robert Telus", "Robert Tyszkiewicz", 
  "Robert Wardzała", "Roman Jacek Kosecki", "Roman Kaczor", "Roman Kotliński", 
  "Romuald Ajchler", "Romuald Garczewski", "Ryszard Galla", "Ryszard Kalisz", 
  "Ryszard Terlecki", "Ryszard Zawadzki", "Ryszard Zbrzyzny", "Sekretarz Agnieszka Hanajczyk", 
  "Sławomir Jan Piechota", "Sławomir Kłosowski", "Sławomir Kopyciński", 
  "Sławomir Kowalski", "Sławomir Neumann", "Sławomir Nowak", 
  "Sławomir Zawiślak", "Stanisław Chmielewski", "Stanisław Huskowski", 
  "Stanisław Kalemba", "Stanisław Lamczyk", "Stanisław Ożóg", 
  "Stanisław Pięta", "Stanisław Piotrowicz", "Stanisław Szwed", 
  "Stanisław Wziątek", "Stanisław Żelichowski", "Stanisław Żmijan", 
  "Stanisława Prządka", "Stefan Niesiołowski", "Stefan Strzałkowski", 
  "Szymon Giżyński", "Tadeusz Arkit", "Tadeusz Aziewicz", "Tadeusz Dziuba", 
  "Tadeusz Iwiński", "Tadeusz Jarmuziewicz", "Tadeusz Naguszewski", 
  "Tadeusz Tomaszewski", "Tadeusz Woźniak", "Teresa Hoppe", "Teresa Piotrowska", 
  "Teresa Świło", "Tomasz Garbowski", "Tomasz Głogowski", "Tomasz Górski", 
  "Tomasz Kaczmarek", "Tomasz Kamiński", "Tomasz Kulesza", "Tomasz Latos", 
  "Tomasz Lenz", "Tomasz Makowski", "Tomasz Piotr Nowak", "Tomasz Smolarz", 
  "Tomasz Szymański", "Tomasz Tomczykiewicz", "Urszula Augustyn", 
  "Urszula Pasławska", "Urszula Rusecka", "Waldemar Andzel", "Waldemar Pawlak", 
  "Waldemar Sługocki", "Waldy Dzikowski", "Wanda Nowicka", "Wiesław Janczyk", "Wiesław Stanisław Janczyk", "Wiesław Suchowiejko", 
  "Wincenty Elsner", "Witold Czarnecki", "Witold Klepacz", "Witold Pahl", 
  "Witold Waszczykowski", "Włodzimierz Bernacki", "Wojciech Jasiński", 
  "Wojciech Penkalski", "Wojciech Saługa", "Wojciech Szarama", 
  "Wojciech Ziemniak", "Wojciech Zubowski", "Zbigniew Babalski", 
  "Zbigniew Chmielowiec", "Zbigniew Dolata", "Zbigniew Girzyński", 
  "Zbigniew Konwiński", "Zbigniew Kuźmiuk", "Zbigniew Matuszczak", 
  "Zbigniew Pacelt", "Zbigniew Rynasiewicz", "Zbigniew Sosnowski", 
  "Zbigniew Włodkowski", "Zbyszek Zaborowski", "Zenon Durka", 
  "Zofia Czernow", "Zofia Ławrynowicz", "Zofia Popiołek")

load("all_statements.rda")

shinyUI(fluidPage(
  tags$head(tags$script("(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
                        ga('create', 'UA-5650686-6', 'auto');
                        ga('send', 'pageview');")),
  
  includeCSS("style.css"),
  
  # Tytuł
  titlePanel("Wyszukiwarka fraz w wypowiedziach posłów sejmu RP VII kadencji (2011-2015)"),
  
  
  # menu
  sidebarLayout(
    sidebarPanel(
      textInput("slowo", "Wyszukaj wypowiedzi zawierajace wyrażenie (regexp)", "edukacja"),
      textInput("slowoNeg", "Nie uwzględniaj wypowiedzi zawierajacych wyrażenie (regexp)", ""),
      selectInput("posel", "Ogranicz wyniki do wypowiedzi", posel, "", multiple = TRUE),
      checkboxInput("sortuj", "Sortuj malejąco", TRUE),
      actionButton("go", "Pokaż!"),
      hr(),
      p("Ostatnie posiedzenie w bazie:", max(all_statements$date_statement))
    ),
    
    # Plot, na razie przykładowy
    mainPanel(
      tabsetPanel(
        tabPanel('Wstęp', {
          HTML("Aplikacja pozwala na przeszukiwanie sejmowych wypowiedzi posłów VII kadencji (na bazie danych z portalu <a href='http://sejm.gov.pl'>sejm.gov.pl</a>).<br>
<br>
      Wpisz szukane słowa lub frazy w menu po lewej stronie i naciśniej przycisk <b>Pokaż</b>. Przełącz zakładkę aby zobaczyć wyniki.<br>
               Lewy panel pozwala na określenie parametrów dla wyszukiwania, kolejne zakładki służą do prezentowania wyników lub statystyk wyników.<br>
<br>               
               Frazy, które są wykorzystywane do wyszukiwania opisane są za pomocą wyrażeń regularnych. <br> 
               &nbsp;&nbsp;&nbsp;Wyrażenie <i>' zdrowie'</i> spowoduje wyszukanie wypowiedzi w których słowo zdrowie występuje po spacji (a więc słowo pozdrowienia nie pasuje). <br>
               &nbsp;&nbsp;&nbsp;Wyrażenie <i>'[Jj]anosikowe'</i> spowoduje wyszukanie wypowiedzi w których słowo janosikowe rozpoczyna się dużą lub małą literą.<br>
               &nbsp;&nbsp;&nbsp;Wyrażenie <i>'nauka|edukacja|badania'</i> spowoduje wyszukanie wypowiedzi, w których występuje słowo nauka LUB słowo edukacja LUB słowo badania. <br>
               Można wskazywać fragmenty słów lub bardziej złożone wyrażenia regularne. Więcej informacji jak budować wyrażenia regularne znaleźć można na stronie <a href='http://home.agh.edu.pl/~mkuta/tk/re/re.html'>home.agh.edu.pl/~mkuta/tk/re/re.html</a><br>
<br>               
               W kolejnych zakładkach przedstawione są:<br>
               -	Wypowiedzi - lista wypowiedzi pasujących do wskazanych wzorców.<br>
               -	Mówcy – statystyka, którzy autorzy częściej / rzadziej wypowiadali określoną frazę,<br>
               -	Daty – informacja w których posiedzeniach ta fraza pojawiała się częściej/rzadziej.<br>
<br><br>
               Aplikacje wykonali: Przemysław Biecek i Marta Czarnocka-Cieciura, 2015 <br>
               Kod źródłowy: <a href=\"https://github.com/mi2-warsaw/JakOniGlosowali\">https://github.com/mi2-warsaw/JakOniGlosowali</a><br><br>
               Aplikacja wykonana w ramach hackatonu <a href='http://www.meetup.com/Spotkania-Entuzjastow-R-Warsaw-R-Users-Group-Meetup/events/225061731/'>Jak oni głosowali</a> organizowanego przez fundację <a href='http://smarterpoland.pl'>SmarterPoland</a>. <br>
               Współpraca i konsultacje merytoryczne: <a href='http://mamprawowiedziec.pl/'>Mam Prawo Wiedzieć</a><br><br>
               <br><br><a href='http://mamprawowiedziec.pl/'><img width='200px' src='https://github.com/mi2-warsaw/JakOniGlosowali/raw/master/wyszukiwarka/shiny/logo-MPW-CMYK-pion.jpg'/></a>&nbsp;&nbsp;
               <a href='http://smarterpoland.pl'><img width='140px' src='https://github.com/mi2-warsaw/JakOniGlosowali/raw/master/wyszukiwarka/shiny/smarterpoland.png'/></a>.")
        }),
        tabPanel('Wypowiedzi', uiOutput("tekst")),
        tabPanel('Mówcy', plotOutput("speakerCounts"), tableOutput("speakerCounts2")),
        tabPanel('Daty', plotOutput("dateCounts"), tableOutput("dateCounts2"))
      )
    )
  )
))